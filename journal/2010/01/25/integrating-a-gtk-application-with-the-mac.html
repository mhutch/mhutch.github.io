<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />

  <title>
    
      Integrating a GTK# Application with the Mac &middot; mhut.ch
    
  </title>

  <script>
(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-M9VCVCX');
</script>

  <!-- CSS -->
  <link rel="stylesheet" href="/assets/css/main.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface&text=mhut.ch" />

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/favicon.png" />
<link rel="shortcut icon" href="/favicon.ico" />

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml" />

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Integrating a GTK# Application with the Mac | mhut.ch</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Integrating a GTK# Application with the Mac" />
<meta name="author" content="Mikayla Hutchinson" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="In this follow-up to my post on turning a GTK# app into a Mac app bundle, I describe how to integrate your application with Mac-specific features such as the main menu, the dock, and file/URL events. This is based on the work I did to integrate MonoDevelop and MonoDoc with the Mac, and largely involves cherry-picking code snippets from these projects. Although it would be nice to isolate this code into a library, I don’t have the time at the moment to maintain such a library myself." />
<meta property="og:description" content="In this follow-up to my post on turning a GTK# app into a Mac app bundle, I describe how to integrate your application with Mac-specific features such as the main menu, the dock, and file/URL events. This is based on the work I did to integrate MonoDevelop and MonoDoc with the Mac, and largely involves cherry-picking code snippets from these projects. Although it would be nice to isolate this code into a library, I don’t have the time at the moment to maintain such a library myself." />
<link rel="canonical" href="https://mhut.ch/journal/2010/01/25/integrating-a-gtk-application-with-the-mac" />
<meta property="og:url" content="https://mhut.ch/journal/2010/01/25/integrating-a-gtk-application-with-the-mac" />
<meta property="og:site_name" content="mhut.ch" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2010-01-25T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Integrating a GTK# Application with the Mac" />
<meta name="twitter:site" content="@mjhutchinson" />
<meta name="twitter:creator" content="@mjhutchinson" />
<script type="application/ld+json">
{"description":"In this follow-up to my post on turning a GTK# app into a Mac app bundle, I describe how to integrate your application with Mac-specific features such as the main menu, the dock, and file/URL events. This is based on the work I did to integrate MonoDevelop and MonoDoc with the Mac, and largely involves cherry-picking code snippets from these projects. Although it would be nice to isolate this code into a library, I don’t have the time at the moment to maintain such a library myself.","url":"https://mhut.ch/journal/2010/01/25/integrating-a-gtk-application-with-the-mac","@type":"BlogPosting","headline":"Integrating a GTK# Application with the Mac","dateModified":"2010-01-25T00:00:00+00:00","datePublished":"2010-01-25T00:00:00+00:00","author":{"@type":"Person","name":"Mikayla Hutchinson"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://mhut.ch/journal/2010/01/25/integrating-a-gtk-application-with-the-mac"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>


  <body class="journal">
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-M9VCVCX" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <div id="sidebar">
  <header>
    <img class="hero-avatar" src="/files/mikayla-small.jpg" alt="Mikayla" />
    <div class="site-title">
      <a href="/">
        
          <span class="back-arrow icon"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
  <path d="M0 0h24v24H0z" fill="none"/>
  <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
</svg></span>
        
        mhut.ch
      </a>
    </div>
    <p class="lead">Mikayla Hutchinson's home on the web</p>
  </header>
  <nav id="sidebar-nav-links">
    <a class="page-link" href="/">Home</a>
    <a class="page-link" href="/about">About</a>
    <a class="page-link" href="/journal">Journal</a>
    <a class="page-link" href="/talks">Talks</a>
    <a class="page-link" href="/contact">Contact</a></nav>

  <nav id="sidebar-icon-links">
  <a id="github-link"
    class="icon "
    title="Find me on GitHub" aria-label="Find me on GitHub"
    href="https://github.com/mhutch">
    <svg aria-hidden="true" data-prefix="fab" data-icon="github-alt" class="svg-inline--fa fa-github-alt fa-w-15" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><path fill="currentColor" d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"></path></svg>
  </a>
  <a id="twitter-link"
    class="icon "
    title="Find me on Twitter" aria-label="Find me on Twitter"
    href="https://twitter.com/mjhutchinson">
    <svg aria-hidden="true" data-prefix="fab" data-icon="twitter" class="svg-inline--fa fa-twitter fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg>
  </a>
  <a id="mastodon-link"
    class="icon "
    title="Find me on Mastodon" aria-label="Find me on Mastodon"
    href="https://mastodon.social/@mhutch">
    <svg aria-hidden="true" data-prefix="fab" data-icon="mastodon" class="svg-inline--fa fa-mastodon fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 417 512"><path fill="currentColor" d="M417.8 179.1c0-97.2-63.7-125.7-63.7-125.7-62.5-28.7-228.5-28.4-290.4 0 0 0-63.7 28.5-63.7 125.7 0 115.7-6.6 259.4 105.6 289.1 40.5 10.7 75.3 13 103.3 11.4 50.8-2.8 79.3-18.1 79.3-18.1l-1.7-36.9s-36.3 11.4-77.1 10.1c-40.4-1.4-83-4.4-89.6-54-.6-4.4-.9-9-.9-13.9 85.6 20.9 158.6 9.1 178.7 6.7 56.1-6.7 105-41.3 111.2-72.9 9.8-49.8 9-121.5 9-121.5zm-75.1 125.2h-46.6V190.1c0-49.7-64-51.6-64 6.9v62.5h-46.3V197c0-58.5-64-56.6-64-6.9v114.2H75.1c0-122.1-5.2-147.9 18.4-175 25.9-28.9 79.8-30.8 103.8 6.1l11.6 19.5 11.6-19.5c24.1-37.1 78.1-34.8 103.8-6.1 23.7 27.3 18.4 53 18.4 175z"></path></svg>
  </a>
  <a id="linkedin-link"
    class="icon "
    title="Find me on LinkedIn" aria-label="Find me on LinkedIn"
    href="https://linkedin.com/in/mjhutchinson">
    <svg aria-hidden="true" data-prefix="fab" data-icon="linkedin" class="svg-inline--fa fa-linkedin fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg>
  </a>
  <a id="subscribe-link"
    class="icon "
    title="Subscribe" aria-label="Subscribe"
    href="https://mhut.ch/feed.xml">
    <svg aria-hidden="true" data-prefix="fas" data-icon="rss" class="svg-inline--fa fa-rss fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M128.081 415.959c0 35.369-28.672 64.041-64.041 64.041S0 451.328 0 415.959s28.672-64.041 64.041-64.041 64.04 28.673 64.04 64.041zm175.66 47.25c-8.354-154.6-132.185-278.587-286.95-286.95C7.656 175.765 0 183.105 0 192.253v48.069c0 8.415 6.49 15.472 14.887 16.018 111.832 7.284 201.473 96.702 208.772 208.772.547 8.397 7.604 14.887 16.018 14.887h48.069c9.149.001 16.489-7.655 15.995-16.79zm144.249.288C439.596 229.677 251.465 40.445 16.503 32.01 7.473 31.686 0 38.981 0 48.016v48.068c0 8.625 6.835 15.645 15.453 15.999 191.179 7.839 344.627 161.316 352.465 352.465.353 8.618 7.373 15.453 15.999 15.453h48.068c9.034-.001 16.329-7.474 16.005-16.504z"></path></svg>
  </a>
  <a id="tags-link"
    class="icon "
    title="Tags" aria-label="Tags"
    href="https://mhut.ch/tags">
    <svg aria-hidden="true" data-prefix="fas" data-icon="tags" class="svg-inline--fa fa-tags fa-w-20" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"></path></svg>
  </a>
  <a id="search-link"
    class="icon "
    title="Search" aria-label="Search"
    href="https://mhut.ch/search">
    <svg aria-hidden="true" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
  </a></nav>
  <p class="copyright">
  <a href="/terms">Personal site, opinions mine. &copy; 2021</a>
</p>

</div>

    <main class="container">
      <header>
  <h1 class="post-title">Integrating a GTK# Application with the Mac</h1>
</header>
<div class="content">
  <div class="post-meta">
  <span class="post-date">25 Jan 2010</span>
  <span class="post-categories">
    
  </span>
</div>


  <div class="post-body">
    <p>In this follow-up to my post on <a href="/journal/2010/01/24/creating_mac_app_bundle_for_gtk_app">turning a GTK# app into a Mac app
bundle</a>, I describe how
to integrate your application with Mac-specific features such as the main menu,
the dock, and file/URL events. This is based on the work I did to integrate
MonoDevelop and MonoDoc with the Mac, and largely involves cherry-picking code
snippets from these projects. Although it would be nice to isolate this code
into a library, I don’t have the time at the moment to maintain such a library
myself.<!--break--></p>

<p><img src="/files/images/MonoScreenshots/MonoDocOnMac.png" alt="MonoDevelop with Mac main menu support" /></p>

<p>GTK# is a nice toolkit, and in my opinion the best cross-platform toolkit for
Mono/.NET, but there are some things that just don’t have direct cross-platform
analogues, such as the Mac main menu. To integrate with such features, you need
to implement platform-specific code paths. MonoDevelop does this in some cases
using runtime checks:</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="p">(</span><span class="n">PropertyService</span><span class="p">.</span><span class="n">IsMac</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//some mac-specific behaviour</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">PropertyService</span><span class="p">.</span><span class="n">IsWindows</span><span class="p">)</span>
    <span class="c1">//some windows-specific behaviour</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">//some default behaviour</span>
<span class="p">}</span>
</code></pre></div></div>

<p>This is great when the platform-specific code doesn’t introduce any
dependencies, because you have one binary that works across all platforms.
However, you can’t rely on <a href="https://bugzilla.novell.com/show_bug.cgi?id=433108#c4">checking
<code class="language-plaintext highlighter-rouge">System.PlatformID.MacOSX</code></a>
so we have to use some other techniques for platform detection. In
<a href="https://raw.github.com/mono/monodevelop/master/main/src/core/MonoDevelop.Core/MonoDevelop.Core/PropertyService.cs">MonoDevelop’s
PropertyService</a>
we can find code based on Mono’s <code class="language-plaintext highlighter-rouge">Managed.Windows.Forms/XplatUI</code> that detects
whether the program is running on Mac or Windows. Here are the pertinent parts,
copied into a new class:</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">static</span> <span class="k">class</span> <span class="nc">PlatformDetection</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">readonly</span> <span class="k">static</span> <span class="kt">bool</span> <span class="n">IsWindows</span><span class="p">;</span>
    <span class="k">public</span> <span class="k">readonly</span> <span class="k">static</span> <span class="kt">bool</span> <span class="n">IsMac</span><span class="p">;</span>

    <span class="k">static</span> <span class="nf">PlatformDetection</span> <span class="p">()</span>
    <span class="p">{</span>
        <span class="n">IsWindows</span> <span class="p">=</span> <span class="n">Path</span><span class="p">.</span><span class="n">DirectorySeparatorChar</span> <span class="p">==</span> <span class="sc">'\\'</span><span class="p">;</span>
        <span class="n">IsMac</span> <span class="p">=</span> <span class="p">!</span><span class="n">IsWindows</span> <span class="p">&amp;&amp;</span> <span class="nf">IsRunningOnMac</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="c1">//From Managed.Windows.Forms/XplatUI</span>
    <span class="k">static</span> <span class="kt">bool</span> <span class="nf">IsRunningOnMac</span> <span class="p">()</span>
    <span class="p">{</span>
        <span class="n">IntPtr</span> <span class="n">buf</span> <span class="p">=</span> <span class="n">IntPtr</span><span class="p">.</span><span class="n">Zero</span><span class="p">;</span>
        <span class="k">try</span> <span class="p">{</span>
            <span class="n">buf</span> <span class="p">=</span> <span class="n">System</span><span class="p">.</span><span class="n">Runtime</span><span class="p">.</span><span class="n">InteropServices</span><span class="p">.</span><span class="n">Marshal</span><span class="p">.</span><span class="nf">AllocHGlobal</span> <span class="p">(</span><span class="m">8192</span><span class="p">);</span>
            <span class="c1">// This is a hacktastic way of getting sysname from uname ()</span>
            <span class="k">if</span> <span class="p">(</span><span class="nf">uname</span> <span class="p">(</span><span class="n">buf</span><span class="p">)</span> <span class="p">==</span> <span class="m">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="kt">string</span> <span class="n">os</span> <span class="p">=</span> <span class="n">System</span><span class="p">.</span><span class="n">Runtime</span><span class="p">.</span><span class="n">InteropServices</span><span class="p">.</span><span class="n">Marshal</span><span class="p">.</span><span class="nf">PtrToStringAnsi</span> <span class="p">(</span><span class="n">buf</span><span class="p">);</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">os</span> <span class="p">==</span> <span class="s">"Darwin"</span><span class="p">)</span>
                    <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span> <span class="k">catch</span> <span class="p">{</span>
        <span class="p">}</span> <span class="k">finally</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">buf</span> <span class="p">!=</span> <span class="n">IntPtr</span><span class="p">.</span><span class="n">Zero</span><span class="p">)</span>
                <span class="n">System</span><span class="p">.</span><span class="n">Runtime</span><span class="p">.</span><span class="n">InteropServices</span><span class="p">.</span><span class="n">Marshal</span><span class="p">.</span><span class="nf">FreeHGlobal</span> <span class="p">(</span><span class="n">buf</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="p">[</span><span class="n">System</span><span class="p">.</span><span class="n">Runtime</span><span class="p">.</span><span class="n">InteropServices</span><span class="p">.</span><span class="nf">DllImport</span> <span class="p">(</span><span class="s">"libc"</span><span class="p">)]</span>
    <span class="k">static</span> <span class="k">extern</span> <span class="kt">int</span> <span class="nf">uname</span> <span class="p">(</span><span class="n">IntPtr</span> <span class="n">buf</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>For certain other cases in MonoDevelop, particularly ones that introduce
dependencies that only exist on some platforms, we have a “platform service”
extension point using Mono.Addins, where a platform-specific addins can provide
a platform-specific implementation of our <code class="language-plaintext highlighter-rouge">PlatformService</code> abstract class, and
if none is found we fall back to a default implementation. This means that just
one of our binaries is platform-specific. It’s also nice because a lot of the
platform-specific code is in one place. But there are still many places where
certain platforms just need a small behavioural tweak and the overhead of
pulling something out into this abstraction layer isn’t worthwhile. In such
cases we use a quick runtime check instead.</p>

<p>A third option is do build a different version of your binary for Mac, using
ifdefs. This is what I did for MonoDoc, because it was easier for a quick hack,
but I’ll probably go back later and change it to use runtime checks.</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#if MACOS
</span>    <span class="c1">//some mac-specific behaviour that only gets included when you pass /define:MACOS to the C# compiler</span>
<span class="cp">#endif
</span></code></pre></div></div>

<p>The first platform-specific codepath we’ll add is the main menu, because that’s
the one your users are going to notice. There is a GTK library called
ige-mac-integration that provides some platform integration features for the
main menu and dock, and is included in the Mono framework for Mac. If you
exported the <code class="language-plaintext highlighter-rouge">DYLD_FALLBACK_LIBRARY_PATH</code> like I described in my post about
building the app bundle, you should be able to P/Invoke it. Unfortunately it’s
quite limited in what it can do, so we don’t use it at all in MonoDevelop, but
its menu integration is effective for simpler apps like MonoDoc. In the MonoDoc
source you can find a <a href="https://raw.github.com/mono/mono-tools/master/docbrowser/macbuild/IgeMacMenuGlobal.cs">small IGE
wrapper</a>
a single file that you can copy into your app. Since P/Invokes are only resolved
at runtime if they’re used, you can include the code on all platforms provided
you only call it on Mac .</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="p">(</span><span class="n">PlatformDetection</span><span class="p">.</span><span class="n">IsMac</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//enable the global key handler for keyboard shortcuts</span>
    <span class="n">IgeMainMenu</span><span class="p">.</span><span class="n">GlobalKeyHandlerEnabled</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>

    <span class="c1">//Tell the IGE library to use your GTK menu as the Mac main menu</span>
    <span class="n">IgeMainMenu</span><span class="p">.</span><span class="n">MenuBar</span> <span class="p">=</span> <span class="n">yourGtkMenuBar</span><span class="p">;</span>

    <span class="c1">//tell IGE which menu item should be used for the app menu's quit item</span>
    <span class="n">IgeMainMenu</span><span class="p">.</span><span class="n">QuitMenuItem</span> <span class="p">=</span> <span class="n">yourQuitMenuItem</span><span class="p">;</span>

    <span class="c1">//add a new group to the app menu, and add some items to it</span>
    <span class="kt">var</span> <span class="n">appGroup</span> <span class="p">=</span> <span class="n">IgeMainMenu</span><span class="p">.</span><span class="nf">AddAppMenuGroup</span> <span class="p">();</span>
    <span class="n">appGroup</span><span class="p">.</span><span class="nf">AddMenuItem</span> <span class="p">(</span><span class="n">yourAboutItem</span><span class="p">,</span> <span class="s">"About FooApp..."</span><span class="p">);</span>
    <span class="n">appGroup</span><span class="p">.</span><span class="nf">AddMenuItem</span> <span class="p">(</span><span class="n">yourPrefsItem</span><span class="p">,</span> <span class="s">"Preferences..."</span><span class="p">);</span>

    <span class="c1">//hide the menu bar so it no longer displays within the window</span>
    <span class="n">yourGtkMenuBar</span><span class="p">.</span><span class="nf">Hide</span> <span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div>

<p>The IGE library automatically converts your menu’s shortcuts to use Command
instead of Control, but if you explicitly check modifiers elsewhere in your
code, for example in custom widgets, you may wish to make Mac-specific tweaks to
behaviour. If you do need to access modifiers from key events directly, beware
that the Mac GTK modifier mappings are very strange; see the MapRawKeys method
on MonoDevelop’s
<a href="https://raw.github.com/mono/monodevelop/master/main/src/core/MonoDevelop.Ide/MonoDevelop.Components.Commands/KeyBindingManager.cs">KeyBindingManager</a>
for details.</p>

<p>Next we’ll handle the Apple Events that Mac applications in App Bundle form are expected to handle.</p>

<p>The Quit event is sent when the Quit command on your app’s the Dock icon is used
(among other things), and obviously should cause your app to quit. The Reopen
event is sent when the dock is clicked, and should cause your app to show its
windows if they’re hidden, or if you follow the Mac document-per-window model
and no document is open, optionally create a new empty document.</p>

<p>The strange events for developers from other OSes are the file open and URL open
events that your app gets set if it’s registered to handle file types or URL
types. Because the Mac only expects to have a single instance of a bundle app
running at once, each app handling multiple documents, Launch Services sends the
files or URLs as events to the running instance of the app, or if the app is not
running, starts it then sends the events. They are not ever passed to your app
as command-line arguments.</p>

<p>MonoDevelop’s MacPlatform addin has a wrapper for these events that exposes them
as simple static .NET events on a static class called
<code class="language-plaintext highlighter-rouge">OSXIntegration.Framework.ApplicationEvents</code>. Simply copy the entire contents of
the <a href="https://github.com/mono/monodevelop/tree/master/main/src/addins/MacPlatform/MacInterop"><code class="language-plaintext highlighter-rouge">MacPlatform/MacInterop</code></a>
directory and include it in your app, then connect handlers to the
<code class="language-plaintext highlighter-rouge">ApplicationEvents</code> class’s static events sometime before starting the GTK
mainloop:</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="p">(</span><span class="n">PlatformDetection</span><span class="p">.</span><span class="n">IsMac</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ApplicationEvents</span><span class="p">.</span><span class="n">Quit</span> <span class="p">+=</span> <span class="k">delegate</span> <span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">ApplicationEventArgs</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">Application</span><span class="p">.</span><span class="nf">Quit</span> <span class="p">();</span>
        <span class="n">e</span><span class="p">.</span><span class="n">Handled</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
    <span class="p">};</span>

    <span class="n">ApplicationEvents</span><span class="p">.</span><span class="n">Reopen</span> <span class="p">+=</span> <span class="k">delegate</span> <span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">ApplicationEventArgs</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">mainWindow</span><span class="p">.</span><span class="nf">Deiconify</span> <span class="p">();</span>
        <span class="n">mainWindow</span><span class="p">.</span><span class="n">Visible</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
        <span class="n">e</span><span class="p">.</span><span class="n">Handled</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
    <span class="p">};</span>

    <span class="c1">//optional, only need this if your Info.plist registers to handle urls</span>
    <span class="n">ApplicationEvents</span><span class="p">.</span><span class="n">OpenUrls</span> <span class="p">+=</span> <span class="k">delegate</span> <span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">ApplicationUrlEventArgs</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">Urls</span> <span class="p">!=</span> <span class="k">null</span> <span class="p">||</span> <span class="n">e</span><span class="p">.</span><span class="n">Urls</span><span class="p">.</span><span class="n">Count</span> <span class="p">&gt;</span> <span class="m">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="nf">OpenUrls</span> <span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">Urls</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="n">e</span><span class="p">.</span><span class="n">Handled</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
    <span class="p">};</span>

    <span class="c1">//optional, only need this if your Info.plist registers to handle files</span>
    <span class="n">ApplicationEvents</span><span class="p">.</span><span class="n">OpenFiles</span> <span class="p">+=</span> <span class="k">delegate</span> <span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">ApplicationFileEventArgs</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">Files</span> <span class="p">!=</span> <span class="k">null</span> <span class="p">||</span> <span class="n">e</span><span class="p">.</span><span class="n">Files</span><span class="p">.</span><span class="n">Count</span> <span class="p">&gt;</span> <span class="m">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="nf">OpenUrls</span> <span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">Files</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="n">e</span><span class="p">.</span><span class="n">Handled</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">}</span>
</code></pre></div></div>

<p>You might wonder how to register to handle files and URLs in your <code class="language-plaintext highlighter-rouge">Info.plist</code>.
The <a href="http://developer.apple.com/mac/library/documentation/General/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html">Apple
docs</a>
have the full details, but we can look at the <a href="https://raw.github.com/mono/mono-tools/master/docbrowser/macbuild/Info.plist">MonoDoc
Info.plist</a>
and the <a href="https://raw.github.com/mono/monodevelop/master/main/build/MacOSX/Info.plist.in">MonoDevelop
Info.plist</a>
for some basics.</p>

<p>To register URLs, add the <code class="language-plaintext highlighter-rouge">CFBundleURLTypes</code> key to the Info.plist’s main
dictionary. Its value should be an array of URL types, where each one is a
dictionary defining the name and the schemes (prefixes):</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;key&gt;</span>CFBundleURLTypes<span class="nt">&lt;/key&gt;</span>
<span class="nt">&lt;array&gt;</span>
    <span class="nt">&lt;dict&gt;</span>
        <span class="nt">&lt;key&gt;</span>CFBundleURLName<span class="nt">&lt;/key&gt;</span>
        <span class="nt">&lt;string&gt;</span>MonoDoc<span class="nt">&lt;/string&gt;</span>
        <span class="nt">&lt;key&gt;</span>CFBundleURLSchemes<span class="nt">&lt;/key&gt;</span>
        <span class="nt">&lt;array&gt;</span>
            <span class="nt">&lt;string&gt;</span>monodoc<span class="nt">&lt;/string&gt;</span>
        <span class="nt">&lt;/array&gt;</span>
    <span class="nt">&lt;/dict&gt;</span>
<span class="nt">&lt;/array&gt;</span>
</code></pre></div></div>

<p>Notice that you’re not just registering to handle the URL types, you’re also
defining them. Launch Services automatically scans app bundles on the system and
in the user’s directory to build system-wide and per-user databases of URL types
and their handlers. So, as soon as your app is present, it could be used to
handle the things it claims. You can even define the icon, as an <code class="language-plaintext highlighter-rouge">icns</code> file to
be loaded from your app’s <code class="language-plaintext highlighter-rouge">Resources</code> directory, just like the bundle’s icon,
and this will show up in Finder.</p>

<p>Registering file types is similar, but there are more keys. You can also register whether your bundle is the default editor, and whether it’s an editor or viewer.</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;key&gt;</span>CFBundleDocumentTypes<span class="nt">&lt;/key&gt;</span>
<span class="nt">&lt;array&gt;</span>
    <span class="nt">&lt;dict&gt;</span>
        <span class="nt">&lt;key&gt;</span>CFBundleTypeIconFile<span class="nt">&lt;/key&gt;</span>
        <span class="nt">&lt;string&gt;</span>monodevelop.sln.icns<span class="nt">&lt;/string&gt;</span>
        <span class="nt">&lt;key&gt;</span>CFBundleTypeExtensions<span class="nt">&lt;/key&gt;</span>
        <span class="nt">&lt;array&gt;</span>
            <span class="nt">&lt;string&gt;</span>sln<span class="nt">&lt;/string&gt;</span>
        <span class="nt">&lt;/array&gt;</span>
        <span class="nt">&lt;key&gt;</span>CFBundleTypeName<span class="nt">&lt;/key&gt;</span>
        <span class="nt">&lt;string&gt;</span>MonoDevelop Solution<span class="nt">&lt;/string&gt;</span>
        <span class="nt">&lt;key&gt;</span>CFBundleTypeRole<span class="nt">&lt;/key&gt;</span>
        <span class="nt">&lt;string&gt;</span>Editor<span class="nt">&lt;/string&gt;</span>
        <span class="nt">&lt;key&gt;</span>LSIsAppleDefaultForType<span class="nt">&lt;/key&gt;</span>
        <span class="nt">&lt;true/&gt;</span>
    <span class="nt">&lt;/dict&gt;</span>
<span class="nt">&lt;/array&gt;</span>
</code></pre></div></div>

<p>With these examples, you should now be able to make your application fit in much better on Mac.</p>

<p>I’m still investigating other Mac integration points for MonoDevelop, such as
native file dialogs, but that’s likely to take some time, as binding the native
toolkits and getting them to play nicely with the GTK mainloop is likely to be
difficult, and there are other important things keeping me busy. When they’re
done I’ll be sure to share that code too.</p>

<p><em>This is part of the <a href="/tags/catchup2010">Catchup 2010</a> series of posts</em>.</p>

    <div class="post-tags">
  
    <a href="/tags/mono">
      <span class="icon">
        <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"/>
</svg>
      </span>&nbsp;<span class="tag-name">mono</span>
    </a>
  
    <a href="/tags/mac">
      <span class="icon">
        <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"/>
</svg>
      </span>&nbsp;<span class="tag-name">mac</span>
    </a>
  
    <a href="/tags/catchup2010">
      <span class="icon">
        <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"/>
</svg>
      </span>&nbsp;<span class="tag-name">catchup2010</span>
    </a>
  
    <a href="/tags/gtksharp">
      <span class="icon">
        <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"/>
</svg>
      </span>&nbsp;<span class="tag-name">gtk#</span>
    </a>
  
</div>
    
<ul class="breadcrumb">
    <li><a href="/journal">Journal</a></li>
    <li><a href="/journal/2010/">2010</a></li>
    <li><a href="/journal/2010/01/">01</a></li>
</ul>

    <div class="share-links">
  <span class="share-text">Share this:</span>
  <ul>
    <li id="twitter-share-link" class="twitter-icon">
      <a href="https://twitter.com/intent/tweet?text=Integrating a GTK# Application with the Mac&url=https://mhut.ch/journal/2010/01/25/integrating-a-gtk-application-with-the-mac&via=mjhutchinson&related=mjhutchinson" rel="nofollow" target="_blank" title="Tweet this">
        <svg aria-hidden="true" data-prefix="fab" data-icon="twitter" class="svg-inline--fa fa-twitter fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg>
      </a>
    </li>
    <li id="facebook-share-link" class="facebook-icon">
      <a href="https://facebook.com/sharer.php?u=https://mhut.ch/journal/2010/01/25/integrating-a-gtk-application-with-the-mac" rel="nofollow" target="_blank" title="Share on Facebook">
        <svg aria-hidden="true" data-prefix="fab" data-icon="facebook" class="svg-inline--fa fa-facebook fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M448 56.7v398.5c0 13.7-11.1 24.7-24.7 24.7H309.1V306.5h58.2l8.7-67.6h-67v-43.2c0-19.6 5.4-32.9 33.5-32.9h35.8v-60.5c-6.2-.8-27.4-2.7-52.2-2.7-51.6 0-87 31.5-87 89.4v49.9h-58.4v67.6h58.4V480H24.7C11.1 480 0 468.9 0 455.3V56.7C0 43.1 11.1 32 24.7 32h398.5c13.7 0 24.8 11.1 24.8 24.7z"></path></svg>
      </a>
    </li>
    <li id="googleplus-share-link" class="googleplus-icon">
      <a href="https://plus.google.com/share?url=https://mhut.ch/journal/2010/01/25/integrating-a-gtk-application-with-the-mac" rel="nofollow" target="_blank" title="Share on Google+">
        <svg aria-hidden="true" data-prefix="fab" data-icon="google-plus" class="svg-inline--fa fa-google-plus fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8zm-70.7 372c-68.8 0-124-55.5-124-124s55.2-124 124-124c31.3 0 60.1 11 83 32.3l-33.6 32.6c-13.2-12.9-31.3-19.1-49.4-19.1-42.9 0-77.2 35.5-77.2 78.1s34.2 78.1 77.2 78.1c32.6 0 64.9-19.1 70.1-53.3h-70.1v-42.6h116.9c1.3 6.8 1.9 13.6 1.9 20.7 0 70.8-47.5 121.2-118.8 121.2zm230.2-106.2v35.5H372v-35.5h-35.5v-35.5H372v-35.5h35.5v35.5h35.2v35.5h-35.2z"></path></svg>
      </a>
    </li>
    <li id="linkedin-share-link" class="linkedin-icon">
      <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://mhut.ch/journal/2010/01/25/integrating-a-gtk-application-with-the-mac&title=Integrating a GTK# Application with the Mac&summary=&source=mjhutchinson" rel="nofollow" target="_blank" title="Share on LinkedIn">
        <svg aria-hidden="true" data-prefix="fab" data-icon="linkedin" class="svg-inline--fa fa-linkedin fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg>
      </a>
    </li>
    <li id="pinterest-share-link" class="pinterest-icon">
      <a href="http://pinterest.com/pin/create/button/?url=https://mhut.ch/journal/2010/01/25/integrating-a-gtk-application-with-the-mac" rel="nofollow" target="_blank" title="Pin this">
        <svg aria-hidden="true" data-prefix="fab" data-icon="pinterest" class="svg-inline--fa fa-pinterest fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M496 256c0 137-111 248-248 248-25.6 0-50.2-3.9-73.4-11.1 10.1-16.5 25.2-43.5 30.8-65 3-11.6 15.4-59 15.4-59 8.1 15.4 31.7 28.5 56.8 28.5 74.8 0 128.7-68.8 128.7-154.3 0-81.9-66.9-143.2-152.9-143.2-107 0-163.9 71.8-163.9 150.1 0 36.4 19.4 81.7 50.3 96.1 4.7 2.2 7.2 1.2 8.3-3.3.8-3.4 5-20.3 6.9-28.1.6-2.5.3-4.7-1.7-7.1-10.1-12.5-18.3-35.3-18.3-56.6 0-54.7 41.4-107.6 112-107.6 60.9 0 103.6 41.5 103.6 100.9 0 67.1-33.9 113.6-78 113.6-24.3 0-42.6-20.1-36.7-44.8 7-29.5 20.5-61.3 20.5-82.6 0-19-10.2-34.9-31.4-34.9-24.9 0-44.9 25.7-44.9 60.2 0 22 7.4 36.8 7.4 36.8s-24.5 103.8-29 123.2c-5 21.4-3 51.6-.9 71.2C65.4 450.9 0 361.1 0 256 0 119 111 8 248 8s248 111 248 248z"></path></svg>
      </a>
    </li>
    <li id="tumblr-share-link" class="tumblr-icon">
      <a href="http://www.tumblr.com/share/link?url=https://mhut.ch/journal/2010/01/25/integrating-a-gtk-application-with-the-mac" rel="nofollow" target="_blank" title="Share on tumblr">
        <svg aria-hidden="true" data-prefix="fab" data-icon="tumblr" class="svg-inline--fa fa-tumblr fa-w-10" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M309.8 480.3c-13.6 14.5-50 31.7-97.4 31.7-120.8 0-147-88.8-147-140.6v-144H17.9c-5.5 0-10-4.5-10-10v-68c0-7.2 4.5-13.6 11.3-16 62-21.8 81.5-76 84.3-117.1.8-11 6.5-16.3 16.1-16.3h70.9c5.5 0 10 4.5 10 10v115.2h83c5.5 0 10 4.4 10 9.9v81.7c0 5.5-4.5 10-10 10h-83.4V360c0 34.2 23.7 53.6 68 35.8 4.8-1.9 9-3.2 12.7-2.2 3.5.9 5.8 3.4 7.4 7.9l22 64.3c1.8 5 3.3 10.6-.4 14.5z"></path></svg>
      </a>
    </li>
    <li id="reddit-share-link" class="reddit-icon">
      <a href="http://www.reddit.com/submit?url=https://mhut.ch/journal/2010/01/25/integrating-a-gtk-application-with-the-mac" rel="nofollow" target="_blank" title="Submit to Reddit">
        <svg aria-hidden="true" data-prefix="fab" data-icon="reddit" class="svg-inline--fa fa-reddit fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M201.5 305.5c-13.8 0-24.9-11.1-24.9-24.6 0-13.8 11.1-24.9 24.9-24.9 13.6 0 24.6 11.1 24.6 24.9 0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4 0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7 0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9 0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5 0 52.6 59.2 95.2 132 95.2 73.1 0 132.3-42.6 132.3-95.2 0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6 0-2.2-2.2-6.1-2.2-8.3 0-2.5 2.5-2.5 6.4 0 8.6 22.8 22.8 87.3 22.8 110.2 0 2.5-2.2 2.5-6.1 0-8.6-2.2-2.2-6.1-2.2-8.3 0zm7.7-75c-13.6 0-24.6 11.1-24.6 24.9 0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.1 24.9-24.6 0-13.8-11-24.9-24.9-24.9z"></path></svg>
      </a>
    </li>
    <li id="email-share-link" class="email-icon">
      <a href="mailto:?subject=Integrating a GTK# Application with the Mac&body=Check out this article https://mhut.ch/journal/2010/01/25/integrating-a-gtk-application-with-the-mac" rel="nofollow" target="_blank" title="Email link">
        <svg aria-hidden="true" data-prefix="far" data-icon="envelope" class="svg-inline--fa fa-envelope fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm0 48v40.805c-22.422 18.259-58.168 46.651-134.587 106.49-16.841 13.247-50.201 45.072-73.413 44.701-23.208.375-56.579-31.459-73.413-44.701C106.18 199.465 70.425 171.067 48 152.805V112h416zM48 400V214.398c22.914 18.251 55.409 43.862 104.938 82.646 21.857 17.205 60.134 55.186 103.062 54.955 42.717.231 80.509-37.199 103.053-54.947 49.528-38.783 82.032-64.401 104.947-82.653V400H48z"></path></svg>
      </a>
    </li></ul>
</div>
  </div>

  <section class="comments">
    
  <div id="disqus_thread"></div>
  <script>
  var disqus_config = function () {
    this.page.url = "https://mhut.ch/journal/2010/01/25/integrating-a-gtk-application-with-the-mac";
    this.page.identifier = "" ||
                           "https://mhut.ch/journal/2010/01/25/integrating-a-gtk-application-with-the-mac";
  };
  (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://mhutch.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  </section>
  <section class="related">
  <h2>Related Posts</h2>
  <ul class="posts-list">
    <li>
      <h3>
        <a href="/journal/2010/01/24/creating-a-mac-app-bundle-for-a-gtk-application">Creating a Mac App Bundle for a GTK# Application</a>
        <small>2010 Jan 24</small>
      </h3>
    </li>
    <li>
      <h3>
        <a href="/journal/2010/05/03/t4-templates-in-monodevelop">T4 Templates in MonoDevelop</a>
        <small>2010 May 3</small>
      </h3>
    </li>
    <li>
      <h3>
        <a href="/journal/2010/02/01/iterator-based-microthreading">Iterator-based Microthreading</a>
        <small>2010 Feb 1</small>
      </h3>
    </li>
    </ul>
</section>
</div>

    </main>
  </body>
</html>
